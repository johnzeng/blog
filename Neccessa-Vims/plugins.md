#插件与管理

- 插件，在vim里面其实就是一套写好的脚本，只要将它放到vi的脚本查找目录里面，vi就会在启动的时候加载这部分脚本，就会在vi里面实现某些功能
- 插件管理，用于管理vim插件的插件（本质仍旧是一个插件）

## 插件的安装

vim默认会加载以下文件的脚本：

- ~/.vimrc
- ~/.vim

其中`.vimrc`是一个文件，而`~/.vim`是文件夹。另外，还会加载一些root下面的vim配置，以及一些高级的加载策略，在这里暂时不关心这个问题，一般只需要知道这两个文件就行了。

以前，vim没有插件管理器的时候，大家发布和安装插件的做法，一般就是将插件打个包，然后发布到vim.org网站，大家在上面找需要的功能，下载对应的zip包，之后将zip包解压到`.vim`下面，如果有需要针对该插件进行一些配置，就在`.vimrc`文件内配置就完成安装了。有些比较复杂的插件，会有独立的安装说明。

## 一些通过插件实现的功能

这里只是简单罗列一些我常用的插件。有没有其他的，我不知道，也许会有其他新起之秀，希望大家知道的来告诉我一下。

### 插件管理

目前我使用的是[vundle](https://github.com/VundleVim/Vundle.vim)。基本上现在vim的插件的理念都是，一个github repo就是一个完整的插件，然后引用的时候就针对一个repo进行clone，不用的时候删除掉对用的文件夹即可。具体使用方法官方的readme写的非常清楚。

### 文件浏览器

默认vim已经集成了文件浏览器的插件。如果你在命令行打开vi的时候，后面跟了一个文件夹做参数，那么vi酒会打开这个文件浏览器，允许你选择具体使用那个文件。基本上也就是移动光标然后敲回车选择而已。

另外，vim自身带有压缩文件的浏览工具，直接vi代开`.tar`,`.zip`,`.7z`等文件是可以进行解压和浏览的。不知道大家知不知道呢。

但是很多时候大家觉得这个不够用，于是有人写了独立的插件。我现在在用的就是[NERDTree](https://github.com/scrooloose/nerdtree)，跟很多IDE类似，就是在侧边栏开一个列表，显示当前文件夹下面的文件树。如果vi设置了允许使用鼠标`set mouse=a`，就可以使用双击打开文件和文件夹等。具体操作可以查看插件对应的文档。不过这个repo的所有者貌似不是原作者，原作者已经没有在维护了。这个插件的历史貌似也有十年了。

### 模糊文件，mru，buffer查找

其实文件浏览器的作用真的没有模糊文件查找大，有时候文件结构复杂，开个文件点三四个文件夹。大多数时候还是模糊查找好用。输入个大概的文件名，就能找到像要的文件了。

这方面大概有以下几个插件可以使用

- [CtrlP](https://github.com/kien/ctrlp.vim)
- [LeaderF](https://github.com/Yggdroot/LeaderF)
- [CommandT](https://github.com/wincent/command-t)

其中CtrlP使用纯vim脚本实现，速度相对慢点，但是功能强大，是这个领域最老牌的插件。这个ctrl-p貌似是sublime还是啥的文件搜索快捷键，因为功能相似，所以就用这个来命名了。

LeaderF使用python实现，速度会快点，而且还在持续开发，但是有些ctrlp的功能他会没有（例如tag查询），但是作为文件查找完全够用，是我正在使用的插件。

CommandT则是因为默认使用mac的command-t组合键作为开启命令，所以很多mac下的vim使用者都会用这个，但是貌似command t组合键要在gui下才能用，我没有仔细研究过这个东西，就是别人都说好用就是了。

### 代码补全

### 代码块补全

### tag相关

